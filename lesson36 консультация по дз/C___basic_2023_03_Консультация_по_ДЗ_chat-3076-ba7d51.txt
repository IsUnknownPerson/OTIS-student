00:10:16	Владимир Морозов:	+
00:10:55	Владимир Морозов:	я туть
00:11:10	Владимир Морозов:	Да вроде разобрали
00:12:11	Владимир Морозов:	У меня будут. Минутку.
00:12:21	Артём:	добрый вечер\
00:13:38	Владимир Морозов:	Самый главный вопрос. По ДР мультипоточке какие результаты по ускорению?
00:14:53	Владимир Морозов:	да
00:15:41	Артём:	то есть не страшно, если в многопоточке программа будет хуже работать, чем в одном потоке?
00:16:16	Владимир Морозов:	Replying to "то есть не страшно, ..."

У меня ускорение примерно в 2.5 раза.
00:16:40	Артём:	а я еще не начинал)
00:16:51	Артём:	я теоретизирую)
00:18:46	Владимир Морозов:	я добавил 35 книг, чтобы добавить нагрузки
00:19:03	Владимир Морозов:	И читал их в разных потоках и считал их отдельно
00:19:23	Владимир Морозов:	суммарно 49мб
00:19:51	Артём:	а какие у нас кстати крайние сроки по домашним заданиям? я просто сейчас увлекся планированием проектной работы, и думал сначала больше ей времени уделить, а потом доделать последнюю домашку
00:19:52	Владимир Морозов:	Там кароч посчитать каждую книгу примерно в 6-7 раз ускорение.
00:20:00	Владимир Морозов:	Остальное сжирает сливание результатов
00:21:16	Владимир Морозов:	у меня кароч считается статистика для каждой книги отдельно и складывает локальные статистики в очередь. А слияние происходит в многопоточном режиме из очереди
00:22:08	Владимир Морозов:	Нет. Я мьютекс беру только чтобы взять STD::move элемент из очереди. Причем мьютекс на добавление и на извлечение в очередь разный
00:22:54	Владимир Морозов:	Да
00:24:18	Владимир Морозов:	Было немного
00:24:29	Владимир Морозов:	И была очередь. Отдельная лекция
00:30:03	Владимир Морозов:	А можно ей сказать всосать весь файл в память?
00:30:24	Владимир Морозов:	Да нормальная схема. Памяти то много.
00:30:49	Владимир Морозов:	А можно голосом?
00:31:47	Владимир Морозов:	Можете объяснить опции компилятора? Я когда их указал (преподаватели при проверке просят их указывать), проект перестал собираться.
00:31:53	Владимир Морозов:	if (CMAKE_CXX_COMPILER_ID MATCHES "Clang" ORCMAKE_CXX_COMPILER_ID STREQUAL "GNU")target_compile_options(parallel_count PRIVATE-g-Wall-Wextra-Werror-pedantic)elseif (CMAKE_CXX_COMPILER_ID STREQUAL "MSVC")target_compile_options(parallel_count PRIVATE/EHsc/W4/WX)
00:32:04	Владимир Морозов:	у меня minGW gcc
00:32:52	Владимир Морозов:	видно
00:33:08	Владимир Морозов:	Например начало ругаться на сравнение size_t < int
00:33:19	Владимир Морозов:	И на порядок объявления полей класса
00:35:14	Владимир Морозов:	Это я понял. Я пытаюсь понять почему компиляция сломалась))))
00:37:39	Артём:	педантик вроде варнинги в ошибки превращает
00:37:57	Владимир Морозов:	Не_ это ж ошибка size_t Ю=0
00:38:02	Владимир Морозов:	>=0
00:38:15	Артём:	там лимиты разные
00:38:23	Владимир Морозов:	ну значит меньше
00:38:26	Артём:	самый большой сфйз т не влезет в инт
00:38:52	Владимир Морозов:	ну -1 определенно меньше 100
00:39:10	Владимир Морозов:	правильно
00:39:13	Владимир Морозов:	uint8_t
00:39:13	Хроменок Роман:	uint8_t
00:39:19	Владимир Морозов:	Да заголовок
00:39:24	Хроменок Роман:	stddio.h
00:39:39	Артём:	лишняя д
00:39:44	Хроменок Роман:	cstdio
00:39:46	Хроменок Роман:	.h
00:39:49	Хроменок Роман:	z jgtxfnfkcz
00:39:53	Хроменок Роман:	я опечался
00:40:42	Владимир Морозов:	даа)
00:41:07	Владимир Морозов:	std::atomic<bool> m_stopped;std::atomic<size_t> queue_size;
00:41:22	Владимир Морозов:	D:/YandexDisk/Learning/Cources/20230401_otus_CPP/CPP_Basic/34_additional_details/HW/parallel_count/ParallelQueue/ParallelQueue.h: In instantiation of 'ParallelQueue<T>::ParallelQueue() [with T = std::map<std::__cxx11::basic_string<char>, long long unsigned int>]':D:/YandexDisk/Learning/Cources/20230401_otus_CPP/CPP_Basic/34_additional_details/HW/parallel_count/main.cpp:59:32:   required from hereD:/YandexDisk/Learning/Cources/20230401_otus_CPP/CPP_Basic/34_additional_details/HW/parallel_count/ParallelQueue/ParallelQueue.h:101:25: error: 'ParallelQueue<std::map<std::__cxx11::basic_string<char>, long long unsigned int> >::queue_size' will be initialized after [-Werror=reorder]  101 |     std::atomic<size_t> queue_size = 0;      |                         ^~~~~~~~~~D:/YandexDisk/Learning/Cources/20230401_otus_CPP/CPP_Basic/34_additional_details/HW/parallel_count/ParallelQueue/ParallelQueue.h:100:23: error:   'std::atomic<bool> ParallelQueue<std::map<std::__cxx11::basic_string<char>, long long unsigned int> >
00:43:46	Владимир Морозов:	queue_size{0}
00:43:52	Владимир Морозов:	m_stopped{false}
00:44:39	Владимир Морозов:	-Werror=reorder
00:45:15	Хроменок Роман:	это помоему аналог redifinition
00:51:48	Артём:	я никогда не следил за порядком полей классов, но никогда с такой пролемой не сталкивался
00:55:03	Артём:	кстати, если вопросов по домашке не будет, можете показать, как подключать статические анализааторы? искал, как поставить на виндовсе в вскоде, но ничего толкового не нашел пока
00:56:39	Артём:	ткачей тоже собирались заменить на станки, в первую промышленную революцию)
00:58:18	Владимир Морозов:	А статические анализаторы это типа intelliSence?
00:58:25	Владимир Морозов:	В VScode?
00:58:31	Артём:	я кланг тайди хотел
00:58:53	Владимир Морозов:	Постскриптум. Этот AI в CLION не работает без VPN с русских IP
01:00:23	Владимир Морозов:	Вопрос. Иногда Clon подчеркивает желтым и ссылается на некие правила clang-tidy - Это оно?
01:00:35	Артём:	я думал сейчас все ИДЕ сами табы в пробелы превращают
01:02:01	Владимир Морозов:	Replying to "я думал сейчас все И..."

Этож вроде только в питоне правило?
01:02:21	Артём:	Replying to "я думал сейчас все И..."

что значит правило?
01:02:39	Владимир Морозов:	Replying to "я думал сейчас все И..."

Всмысле это написано прямо в pep8
01:02:51	Владимир Морозов:	Replying to "я думал сейчас все И..."

Что пробелы а не табы
01:03:33	Владимир Морозов:	Там прямо кнопка есть - поправь в соответствии с clang-tidy
01:03:34	Артём:	Replying to "я думал сейчас все И..."

не знаю, у меня всегда если 2 или 4 пробела ввожу - они превращаются в таб. одинаково в юпитере, в атоме, в вс-коде
01:03:58	Владимир Морозов:	Replying to "я думал сейчас все И..."

Это он автоматом приводит к 4 пробелам.
01:04:08	Артём:	Replying to "я думал сейчас все И..."

ну я об этом и говорю
01:04:18	Артём:	Replying to "я думал сейчас все И..."

сейчас вроде все иде сами так делают
01:04:20	Владимир Морозов:	Replying to "я думал сейчас все И..."

Не, не все IDE умеют
01:05:32	Владимир Морозов:	Но приятно же это не про с++. Мне кажется там наоборот стараются сделать пожощще
01:06:14	Артём:	ну не знаю, в ++ обычно красивая табуляция всегда)
01:07:01	Артём:	лучше б на брейнфаке писали)
01:09:34	Артём:	и теперь вс-код сам будет обращаться к этой утилите и добавлять комментарии?
01:12:08	Владимир Морозов:	У меня будут еще вопросы когда закончим.
01:12:26	Владимир Морозов:	Ссылка на вебинар про написание c++ библиотек для python.
01:13:28	Артём:	это про запись посвященную написанию библиотек для питона?
01:13:36	Владимир Морозов:	еще одна тема: профилировка мультитред приложений.
01:13:45	Артём:	я смотрел, очень круто
01:14:08	Владимир Морозов:	Replying to "я смотрел, очень кру..."

А я вот не посмотрел (((
01:14:17	Артём:	кстати да, я раньше ставил СДЛ вручную, это был кошмар)
01:14:37	Артём:	сейчас переделал под вс-пкг - просто потрясающе, все само собирается за одну команду
01:16:15	Евгений Пальчуковский:	https://ftp.gnu.org/old-gnu/Manuals/gprof-2.9.1/html_mono/gprof.html
01:17:09	Евгений Пальчуковский:	https://valgrind.org/
01:18:31	Владимир Морозов:	спасибо
01:18:51	Евгений Пальчуковский:	https://www.intel.com/content/www/us/en/developer/tools/oneapi/vtune-profiler.html
01:19:09	Артём:	Replying to "я смотрел, очень кру..."

могу кстати исходники скинуть, у меня вроде где то лежат
01:19:21	Артём:	Replying to "я смотрел, очень кру..."

конечно, не вебинар, но хоть код посмотреть
01:19:43	Артём:	Replying to "я смотрел, очень кру..."

по сборке библиотеки для питона
01:20:14	Евгений Пальчуковский:	https://github.com/palchukovsky/webinar-open-libs-python
01:20:27	Владимир Морозов:	Это видео грохнул сам ютюб?
01:23:50	Владимир Морозов:	Роман, глянь форки, может кто-то что-то переписал уже
01:24:05	Артём:	кстати, насколько програмисту на ++ актуально знать си в чистом виде?
01:27:02	Владимир Морозов:	Во, вопрос. Про локали
01:27:59	Владимир Морозов:	У меня вот так: SetConsoleOutputCP(CP_UTF8);
01:28:15	Владимир Морозов:	Но это тянет за собой вот это: #include <Windows.h>
01:28:27	Владимир Морозов:	Это беда. Можно от этого избавится?
01:29:28	Владимир Морозов:	Роман, добро пожаловать в опенсорс)
01:29:30	Артём:	а вывод текста через cout / string или wcout/xstring?
01:29:41	Владимир Морозов:	Да
01:29:45	Артём:	wstring
01:31:37	Владимир Морозов:	stream << std::setw(4) << pair->second << " " << pair->first                       << '\n';
01:31:46	Артём:	русский можно попробовать через wstring wcout, у меня получалось с русскими буквами работать так
01:33:04	Артём:	я просто тоже искал способы с русскими текстами работать, и через обычный string не смог найти решений)
01:34:21	Артём:	вот как раз через set_locale у меня на компьютере не получилось
01:36:22	Владимир Морозов:	terminate called after throwing an instance of 'std::runtime_error'  what():  locale::facet::_S_create_c_locale name not valid
01:38:37	Владимир Морозов:	ща
01:39:44	Артём:	а можете в чат скинутиь код с локалью?
01:39:52	Артём:	не успел перепечатать
01:40:06	Евгений Пальчуковский:	std::locale::global(std::locale("en_US.UTF-8"));
01:40:09	Артём:	спасибо
01:41:40	Евгений Пальчуковский:	https://gcc.gnu.org/onlinedocs/gcc-3.4.6/gcc/Function-Names.html
01:41:40	Артём:	а какой там хедер для глобал?
01:41:47	Артём:	clocale?
01:42:49	Артём:	terminate called after throwing an instance of 'std::runtime_error'  what():  locale::facet::_S_create_c_locale name not valid
01:42:59	Артём:	вот такую ошибку выдает
01:43:00	Евгений Пальчуковский:	Defined in header <locale>
01:43:10	Владимир Морозов:	Да
01:43:11	Артём:	да
01:43:53	Артём:	а я на g++ компилировал
01:44:29	Владимир Морозов:	Это домашка)))
01:44:33	Артём:	вот, на msvc собралось
01:44:41	Артём:	на г++ сломалось
01:44:56	Владимир Морозов:	А можно еще вопрос?
01:45:20	Владимир Морозов:	std::cout << "total time for " << iteration_count << " iteration is: " << total_time << std::endl;
01:45:27	Владимир Морозов:	error: no match for ‘operator<<’
01:46:18	Владимир Морозов:	std::chrono::milliseconds
01:48:09	Хроменок Роман:	сам gcc надо обновить
01:48:44	Хроменок Роман:	gcc --version
01:49:12	Владимир Морозов:	Я свою сдал уже а тут вот какая фигня полезла
01:49:18	Артём:	завтра или в пятницу?
01:56:00	Артём:	спасибо
01:56:04	Артём:	всего доброго
01:56:04	Владимир Морозов:	спасибо.
